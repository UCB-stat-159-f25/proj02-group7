{"version":2,"kind":"Notebook","sha256":"8962d52795845b59e2aad961ea3df87f1cc75c180dbb7b86ac98678bd7b2486d","slug":"nlp-p01","location":"/nlp-P01.ipynb","dependencies":[],"frontmatter":{"title":"Project 2: Reproducibility in Natural Language Processing","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Reily Fairchild","given":"Reily","family":"Fairchild"},"name":"Reily Fairchild","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Atiila Joselyn Birah Kharobo","given":"Atiila Joselyn Birah","family":"Kharobo"},"name":"Atiila Joselyn Birah Kharobo","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Jordan Elizabeth Collins","given":"Jordan Elizabeth","family":"Collins"},"name":"Jordan Elizabeth Collins","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Aditya Jagannadha Sai Mangalampalli","given":"Aditya Jagannadha Sai","family":"Mangalampalli"},"name":"Aditya Jagannadha Sai Mangalampalli","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-3"}],"github":"https://github.com/UCB-stat-159-f25/proj02-group7","affiliations":[{"id":"UC Berkeley","name":"UC Berkeley"}],"source_url":"https://github.com/UCB-stat-159-f25/proj02-group7/blob/main/nlp-P01.ipynb","edit_url":"https://github.com/UCB-stat-159-f25/proj02-group7/edit/main/nlp-P01.ipynb","exports":[{"format":"ipynb","filename":"nlp-P01.ipynb","url":"/nlp-P01-c58527c82a5c948a9fc68773b847cba6.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k7dEWYJxut"}],"identifier":"read-data","label":"Read Data","html_id":"read-data","implicit":true,"key":"Hzc5lq5JGM"}],"key":"oKfmMQgQfW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# imports\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nplt.style.use('seaborn-v0_8-dark') ","key":"R9j1lMEhZE"},{"type":"output","id":"89rj-6_sRtwYFfAE1q3ql","data":[],"key":"Zcb8b1O1Hu"}],"key":"sJDt4MiSTq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# read in SOTU.csv using pandas, name the variable `sou` for simplicity\n# the below cell is what the output should look like\nsou = pd.read_csv('data/SOTU.csv')","key":"e0bDLTgEdb"},{"type":"output","id":"DqOe0NFEJFTqSzKeZSV8E","data":[],"key":"O0wfjqzMIZ"}],"key":"TbhaYZuUgC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sou","key":"ARaJnjhVJn"},{"type":"output","id":"MX_S1vEHB4_o8QOYCODtp","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>President</th>\n      <th>Year</th>\n      <th>Text</th>\n      <th>Word Count</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Joseph R. Biden</td>\n      <td>2024.0</td>\n      <td>\\n[Before speaking, the President presented hi...</td>\n      <td>8003</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Joseph R. Biden</td>\n      <td>2023.0</td>\n      <td>\\nThe President. Mr. Speaker——\\n[At this point...</td>\n      <td>8978</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Joseph R. Biden</td>\n      <td>2022.0</td>\n      <td>\\nThe President. Thank you all very, very much...</td>\n      <td>7539</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Joseph R. Biden</td>\n      <td>2021.0</td>\n      <td>\\nThe President. Thank you. Thank you. Thank y...</td>\n      <td>7734</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Donald J. Trump</td>\n      <td>2020.0</td>\n      <td>\\nThe President. Thank you very much. Thank yo...</td>\n      <td>6169</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>241</th>\n      <td>George Washington</td>\n      <td>1791.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>2264</td>\n    </tr>\n    <tr>\n      <th>242</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>243</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>244</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>245</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n  </tbody>\n</table>\n<p>246 rows × 4 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"             President    Year  \\\n0      Joseph R. Biden  2024.0   \n1      Joseph R. Biden  2023.0   \n2      Joseph R. Biden  2022.0   \n3      Joseph R. Biden  2021.0   \n4      Donald J. Trump  2020.0   \n..                 ...     ...   \n241  George Washington  1791.0   \n242  George Washington  1790.0   \n243  George Washington  1790.0   \n244  George Washington  1790.0   \n245  George Washington  1790.0   \n\n                                                  Text  Word Count  \n0    \\n[Before speaking, the President presented hi...        8003  \n1    \\nThe President. Mr. Speaker——\\n[At this point...        8978  \n2    \\nThe President. Thank you all very, very much...        7539  \n3    \\nThe President. Thank you. Thank you. Thank y...        7734  \n4    \\nThe President. Thank you very much. Thank yo...        6169  \n..                                                 ...         ...  \n241  \\nFellow-Citizens of the Senate and House of R...        2264  \n242  \\nFellow-Citizens of the Senate and House of R...        1069  \n243  \\nFellow-Citizens of the Senate and House of R...        1069  \n244  \\nFellow-Citizens of the Senate and House of R...        1069  \n245  \\nFellow-Citizens of the Senate and House of R...        1069  \n\n[246 rows x 4 columns]","content_type":"text/plain"}}}],"key":"e0WkInyNkz"}],"key":"Yz3Zyfi0Bn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Number of Speeches per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ggZj0pfboa"}],"identifier":"number-of-speeches-per-president","label":"Number of Speeches per President","html_id":"number-of-speeches-per-president","implicit":true,"key":"ArUp5YfdVH"}],"key":"C3S859bgFa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Hint - use value_counts() on the President column\n# Hint - sort in order of dataframe\ncounts = sou[\"President\"].value_counts(sort=False)","key":"IhVF4533LK"},{"type":"output","id":"RTkZGfZrunUb07ISMlU3-","data":[],"key":"seyhNmt9I8"}],"key":"pRwpqrm0W7"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot \n# Hint - use the .plot() method for Pandas Series, make sure all presidents show up on x-axis\n\ncounts.plot(kind=\"bar\", figsize=(20, 10))\nplt.title(\"Number of Speeches per President\", fontsize=24)\nplt.xlabel(\"President\", fontsize=18)\nplt.ylabel(\"Count\", fontsize=18)\nplt.xticks(rotation=90, fontsize=13)\nplt.yticks(fontsize=13)\n\nplt.show()\nplt.savefig(\"outputs/num_speeches.png\")","key":"N21fnIahSz"},{"type":"output","id":"oXjUNC_Evy0aykucMW-8j","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d157f369d3013d5a6e44985e4fab5a40","path":"/d157f369d3013d5a6e44985e4fab5a40.png"},"text/plain":{"content":"<Figure size 2000x1000 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"k4ActHy59X"}],"key":"fGTiSghKbG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It seems pretty interesting that each president seems to give more speeches each as we get closer and closer to the present. Maybe this might be a function of the party system and increasing tension between parties so more speeches are necessary for communication.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KJUPawXE2M"}],"key":"gMWsw8h1mu"}],"key":"XFSeYJRXs7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Number of Speeches per Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cXhIYcKBm4"}],"identifier":"number-of-speeches-per-year","label":"Number of Speeches per Year","html_id":"number-of-speeches-per-year","implicit":true,"key":"TBV6gAEmgT"}],"key":"R07TSUCaZr"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Hint - Use value counts and sort by years\ncounts_by_year = sou[\"Year\"].value_counts().sort_index()\n\nplt.figure(figsize=(5.75, 5))\ncounts_by_year.plot(kind=\"line\")\n\nplt.title(\"Number of State of the Union Speeches per Year\")\nplt.xlabel(\"Year\")\nplt.ylabel(\"Count\")\n\nplt.tight_layout()\nplt.show()\nplt.savefig(\"outputs/num_speeches_year.png\")","key":"YdZxoFgn1U"},{"type":"output","id":"dP8kptGhyrRJD83lbsapZ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7cd8029fbc4b9889f6249a581c667e22","path":"/7cd8029fbc4b9889f6249a581c667e22.png"},"text/plain":{"content":"<Figure size 575x500 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"PeS4DXueLn"}],"key":"ZABT977zE9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It seems like there were many more SOU speeches done in the beginning when the US was first founded. This makes sense as I would assume there were lots of speeches and presentations to create the laws to run the nation.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UV6j30JDpI"}],"key":"oK1KfBzFnb"}],"key":"ll3Qw79NOT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kzeQsXNiK4"}],"identifier":"word-count-distribution","label":"Word Count Distribution","html_id":"word-count-distribution","implicit":true,"key":"Y5IZVtWWwr"}],"key":"jjSLuC7SDz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Hint - try seaborn.histplot()\n\nplt.figure(figsize=(5.75, 5))\n\nsns.histplot(\n    sou[\"Word Count\"],\n    bins=18,\n    kde=False,\n    color=\"steelblue\"\n)\n\nplt.title(\"Distribution of State of the Union Speech\\nWord Counts\")\nplt.xlabel(\"Word Count\")\nplt.ylabel(\"Count\")\n\nplt.tight_layout()\nplt.show()\nplt.savefig(\"outputs/dist_word_counts.png\")","key":"vafmqdn6m7"},{"type":"output","id":"umwwmG46HsRWS1ZWxg2dA","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"94d634adad01e59e81984204d9b8ff76","path":"/94d634adad01e59e81984204d9b8ff76.png"},"text/plain":{"content":"<Figure size 575x500 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"sUOiUGHGr2"}],"key":"HW6yLUBrBw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It’s quite interesting how many of the speeches are around 5000 words in length which is quite short for a speech. I would have imagined most of the speeches are closer to 15000. However, this makes sense. I would assume the speeches would be longer in situations where the nation is under threat or actively involved in something which is a threat to national security.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RqtFSgTHgO"}],"key":"c1rZAsILoE"}],"key":"uWxfFWhRnN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution over Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qjPoClRI79"}],"identifier":"word-count-distribution-over-year","label":"Word Count Distribution over Year","html_id":"word-count-distribution-over-year","implicit":true,"key":"zao2z4lKxS"}],"key":"QXDIaDMB2g"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Hint: try seaborn.rugplot()\nplt.figure(figsize=(6, 5))\n\nsns.scatterplot(\n    data=sou,\n    x=\"Word Count\",\n    y=\"Year\",\n    s=40\n)\n\nsns.rugplot(\n    data=sou,\n    x=\"Word Count\",\n    height=0.02,\n    alpha=0.6,\n)\n\nsns.rugplot(\n    data=sou,\n    y=\"Year\",\n    height=0.02,\n    alpha=1,\n    color=(59/255, 117/255, 174/255)\n)\n\nplt.title(\"Speech Year Versus Word Count\")\nplt.xlabel(\"Word Count\")\nplt.ylabel(\"Year\")\n\nplt.tight_layout()\nplt.show()\nplt.savefig(\"outputs/speech_vs_word_count.png\")","key":"tvOLQogrwD"},{"type":"output","id":"mccZ1iZVPkVagh5VVchcu","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8a0ab434ae872a8d8b16235da5a88fb8","path":"/8a0ab434ae872a8d8b16235da5a88fb8.png"},"text/plain":{"content":"<Figure size 600x500 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"DpNWNCRdCy"}],"key":"s55Hs2waIy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It seems that as we move towards modern times, the word count really starts to shrink. This also makes it appear as 1820-1900s had the US in many disagreements and things which might explain why the majority of the speeches during that time period have word counts greater than 5000.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o89Fu9I7nV"}],"key":"a1JZ3kSQGq"}],"key":"tXLZo1JB8j"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z5vAAT32nM"}],"identifier":"word-count-distribution-per-president","label":"Word Count Distribution per President","html_id":"word-count-distribution-per-president","implicit":true,"key":"dinDEYQ9W1"}],"key":"y83SCXlsaO"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Hint: use pandas groupby to get mean word count per president then sort by order\n\navg_words = sou.groupby(\"President\")[\"Word Count\"].mean()\n\navg_words = avg_words.loc[sou[\"President\"].unique()]\nplt.figure(figsize=(10, 6))\navg_words.plot(kind=\"bar\")\n\nplt.title(\"Average State of the Union Word Count\\nper President\")\nplt.xlabel(\"President\")\nplt.ylabel(\"Average Word Count\")\n\nplt.xticks(rotation=90)\nplt.tight_layout()\nplt.show()\nplt.savefig(\"outputs/avg_sou_wc_president.png\")","key":"ZnPeOb6FvC"},{"type":"output","id":"3RGSiPApKqi6uDhAaS0RY","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"602ad87dbd10d6060e2aa3e3c57ac880","path":"/602ad87dbd10d6060e2aa3e3c57ac880.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"pnAk4H174B"}],"key":"T66Z1TU5FZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It seems like there are like two main discontinuities where from Biden to Wilson, the majority of the speeches are short but Taft to Washington has significantly more words. This could be an explanation as to how the nation’s priorities have shifted and hence some topics needed more explanations than others.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dkPzq0Sypd"}],"key":"XKHo5AVJSd"}],"key":"AwttaCSYr5"}],"key":"JGn8Qxtc57"},"references":{"cite":{"order":[],"data":{}}}}