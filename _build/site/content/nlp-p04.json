{"version":2,"kind":"Notebook","sha256":"343586aa10a3624e4506ebcc30a04ed9dd8bd68237bd71b47e45f9ab10bb9d3a","slug":"nlp-p04","location":"/nlp-P04.ipynb","dependencies":[],"frontmatter":{"title":"Part 4","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Reily Fairchild","given":"Reily","family":"Fairchild"},"name":"Reily Fairchild","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Atiila Joselyn Birah Kharobo","given":"Atiila Joselyn Birah","family":"Kharobo"},"name":"Atiila Joselyn Birah Kharobo","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Jordan Elizabeth Collins","given":"Jordan Elizabeth","family":"Collins"},"name":"Jordan Elizabeth Collins","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Aditya Jagannadha Sai Mangalampalli","given":"Aditya Jagannadha Sai","family":"Mangalampalli"},"name":"Aditya Jagannadha Sai Mangalampalli","affiliations":["UC Berkeley"],"id":"contributors-myst-generated-uid-3"}],"github":"https://github.com/UCB-stat-159-f25/proj02-group7","affiliations":[{"id":"UC Berkeley","name":"UC Berkeley"}],"source_url":"https://github.com/UCB-stat-159-f25/proj02-group7/blob/main/nlp-P04.ipynb","edit_url":"https://github.com/UCB-stat-159-f25/proj02-group7/edit/main/nlp-P04.ipynb","exports":[{"format":"ipynb","filename":"nlp-P04.ipynb","url":"/nlp-P04-dd7350e81c01b2dc904c0f5606bcc597.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this, we will be exploring word frequency over time to answer the question: does the frequency of certain words change over time?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BtAt3lK8b6"}],"key":"paVQrQPEqv"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will be starting with four common words that have been referenced in almost every single debate or speech I’ve ever listened to, which I am sure you have heard as well: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZEe6wUgQyk"},{"type":"inlineCode","value":"[\"freedom\", \"economy\", \"security\", \"health\"]","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GLFxivP3jt"}],"key":"rUqjSWphWI"}],"key":"qXyZ1tx0lZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define words we think are important in this case\nimport pandas as pd\nimport re\nfrom matplotlib import pyplot as plt\n\nsou = pd.read_csv('data/SOTU.csv')\nwords = [\"freedom\", \"economy\", \"security\", \"health\"]","key":"QYO37wz4tu"},{"type":"output","id":"obMZx5WbsmH3fnihfxU5c","data":[],"key":"HOKje74NbV"}],"key":"dr2TG34dMS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def count_word(text, word):\n    \"\"\"\n    RegEx Method to find variations of the word (case insensitive)\n    \"\"\"\n    pattern = r'\\b' + re.escape(word) + r'\\b'\n    return len(re.findall(pattern, text, flags=re.IGNORECASE))\n","key":"rneCfKufAL"},{"type":"output","id":"mirizzfv1uvp_83YS7oGc","data":[],"key":"asrrAPMEel"}],"key":"dCTgLoSlOQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Iterate through every word and get the raw count per year and then scale it\nfor w in words:\n    raw_col = f\"freq_{w}\"\n    rel_col = f\"rel_freq_{w}\"\n    sou[raw_col] = sou[\"Text\"].apply(lambda x: count_word(x, w))\n    sou[rel_col] = sou[raw_col] / sou[\"Word Count\"] * 1000\n","key":"yuhoXf1LMK"},{"type":"output","id":"2duPewb8SC908_ev-cm-X","data":[],"key":"Ge8SuzVTZ6"}],"key":"lnvKa5CNsX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Sort the values every year\nsou_sorted = sou.sort_values(\"Year\").reset_index(drop=True)\n\n# Iterate through the words and fit a rolling average\nfor w in words:\n    col = f\"rel_freq_{w}\"\n    sou_sorted[col + \"_smooth\"] = (\n        sou_sorted[col].rolling(window=10, min_periods=3).mean()\n    )\n","key":"d8OYjheeIt"},{"type":"output","id":"TdBCVS9CifCDZRbXLBe0Y","data":[],"key":"fLDkgo8Hv2"}],"key":"YsP7AMn2PA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(12, 6))\n\n# Plot for the respective years\nfor w in words:\n    plt.plot(\n        sou_sorted[\"Year\"],\n        sou_sorted[f\"rel_freq_{w}_smooth\"],\n        label=w\n    )\n\nplt.title(\"Word Frequency Over Time (10-year rolling average)\")\nplt.xlabel(\"Year\")\nplt.ylabel(\"Relative Frequency (per 1000 words)\")\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()\nplt.savefig(\"outputs/word_freq_over_time.png\")","key":"FEn4cfZFX0"},{"type":"output","id":"vhlhJYlTJZwE00y2eQm64","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f19519529f22123dcf36bedd1114db09","path":"/f19519529f22123dcf36bedd1114db09.png"},"text/plain":{"content":"<Figure size 1200x600 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"uh3gUjWeO2"}],"key":"Kmoyn5DicU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Freedom","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nza65UAmPc"}],"identifier":"freedom","label":"Freedom","html_id":"freedom","implicit":true,"key":"DJoxl7Pimr"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Mentions of freedom stay low throughout the 1800s, then gradually increase in the early 20th century. The term spikes sharply during the Cold War (1970s–1990s), when U.S. presidents frequently framed politics in ideological terms. Another noticeable peak appears in the early 2000s during the post-9/11 era, when “freedom” became central to national messaging. Through time, “freedom” becomes a major rhetorical theme primarily in the modern era.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"izcjqPhKPa"}],"key":"bfdyrLwX3H"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Economy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AAttGxCefK"}],"identifier":"economy","label":"Economy","html_id":"economy","implicit":true,"key":"nfIaWQamKZ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The word economy remains rarely used before 1900, but rises significantly during major economic crises. There are clear peaks during the Great Depression (1930s), post-WWII recovery, the stagflation era (1970s), and again around the Great Recession (2008–2010). The pattern reflects how presidents address economic instability directly in their State of the Union speeches.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lhh2aA3OV4"}],"key":"Ng4k5kxTIh"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Security","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FxQM4yJErq"}],"identifier":"security","label":"Security","html_id":"security","implicit":true,"key":"VLBYYMIhxn"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Security shows the strongest spikes of any word. Usage jumps dramatically during World War II, peaks again throughout the Cold War, and rises once more after 2001 in response to terrorism and national security concerns. This term closely tracks periods when the nation faces real or perceived threats, making it the most crisis-driven word in the group.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"lOWWnwqRzE"}],"key":"ji6UuO6PrB"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Health","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"IuMXkZzsH2"}],"identifier":"health","label":"Health","html_id":"health","implicit":true,"key":"D5obmslNg5"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Mentions of health are almost nonexistent before the 20th century. Use rises steadily as the federal government becomes more involved in public health policy—especially around the creation of Medicare and Medicaid (1960s), health reform debates in the 1990s, the Affordable Care Act period (2009–2015), and again around 2020 during the COVID-19 pandemic. “Health” is the newest major theme in modern SOTU speeches.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ES5KfUm58c"}],"key":"DSQcIqNS6H"},{"type":"heading","depth":2,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Overall Summary","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"djtq9me6pS"}],"identifier":"overall-summary","label":"Overall Summary","html_id":"overall-summary","implicit":true,"key":"MiGLSCUd5S"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Across all four words, usage stays low before 1900 and rises sharply in the modern era as speeches become more policy-focused. The trends reveal how presidential priorities evolve: “security” peaks during wars and threats, “economy” during financial crises, “freedom” during ideological conflicts, and “health” during healthcare policy shifts and pandemics. Together, these patterns highlight how State of the Union language reflects broad historical changes in national concerns.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"GEGMyXDMtI"}],"key":"HeWzwixjZ2"}],"key":"sTdQVGhD6u"}],"key":"d6bQF7t2wj"},"references":{"cite":{"order":[],"data":{}}}}